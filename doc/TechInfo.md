# 技术信息

本文档是为对kaleido背后技术信息感兴趣，准备阅读甚至贡献代码的人准备的。

## 技术栈

kaleido使用Go语言开发。

使用Postgres数据库来进行数据持久化。

我们幸运地从[这个网站](http://ipcn.chacuo.net)上找到了IP段与地区和运营商的对应关系。

## Big picture

kaleido分为两个部分：

- Master，负责
  - 定期检测某个镜像站是否还在运行
  - 定期检测某个镜像站有哪些镜像
  - 如果上述信息有变化，会制作 IP地址 与 镜像名称 到 镜像站url 的对应关系表
- Node，负责
  - 如果发现OSS上的对应关系表比目前的新，则从线上拉取新的关系表
  - 接受用户请求，根据关系表将用户的请求重定向到较为靠近的，有用户所请求的镜像的镜像站

